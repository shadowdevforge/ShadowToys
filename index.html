<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ShadowToys: A collection of high-fidelity, self-contained HTML experiments.">
  <title>ShadowToys // Forge</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link
    href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&family=JetBrains+Mono:wght@500&display=swap"
    rel="stylesheet">

  <style>
    /* --- SYSTEM: CATPPUCCIN MOCHA --- */
    :root {
      --base: #1e1e2e;
      --mantle: #181825;
      --crust: #11111b;
      --text: #cdd6f4;
      --subtext: #a6adc8;
      --overlay: #6c7086;
      --surface0: #313244;
      --surface1: #45475a;

      --mauve: #cba6f7;
      --blue: #89b4fa;
      --red: #f38ba8;
      --peach: #fab387;
      --green: #a6e3a1;
      --teal: #94e2d5;
      --yellow: #f9e2af;
      --lavender: #b4befe;
      --pink: #f5c2e7;

      --font-sans: 'Plus Jakarta Sans', sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
      --ease: cubic-bezier(0.16, 1, 0.3, 1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background-color: var(--crust);
      color: var(--text);
      font-family: var(--font-sans);
      min-height: 100vh;
      overflow-x: hidden;
      background-image:
        radial-gradient(circle at top left, rgba(180, 190, 254, 0.05) 0%, transparent 40%),
        radial-gradient(circle at bottom right, rgba(203, 166, 247, 0.05) 0%, transparent 50%);
    }

    /* --- LAYOUT & HEADER --- */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px;
    }

    header {
      padding: 100px 0 80px;
      text-align: center;
      animation: fadeIn 1s var(--ease);
    }

    h1 {
      font-size: clamp(3.5rem, 8vw, 6rem);
      font-weight: 800;
      letter-spacing: -4px;
      line-height: 1;
      background: linear-gradient(135deg, var(--mauve), var(--blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .tagline {
      color: var(--subtext);
      font-size: 1.125rem;
      max-width: 550px;
      margin: 24px auto 0;
      line-height: 1.6;
    }

    /* --- CONTROLS --- */
    .toolbar {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 24px;
      margin-bottom: 80px;
      position: sticky;
      top: 24px;
      z-index: 10;
    }

    .search-pill {
      background: rgba(30, 30, 46, 0.7);
      backdrop-filter: blur(12px);
      border: 1px solid var(--surface0);
      border-radius: 100px;
      padding: 8px 8px 8px 24px;
      display: flex;
      align-items: center;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      transition: all 0.3s var(--ease);
    }

    .search-pill:focus-within {
      border-color: var(--mauve);
      box-shadow: 0 0 0 4px rgba(203, 166, 247, 0.1), 0 10px 40px rgba(0, 0, 0, 0.4);
    }

    .search-pill input {
      background: transparent;
      border: none;
      color: var(--text);
      font-size: 1rem;
      padding: 12px 0;
      width: 100%;
      outline: none;
    }

    .search-pill kbd {
      font-family: var(--font-mono);
      font-size: 0.8rem;
      background: var(--surface0);
      border-radius: 6px;
      padding: 6px 10px;
      margin: 0 8px;
      color: var(--overlay);
    }

    .filter-bar {
      display: flex;
      gap: 8px;
      background: var(--mantle);
      padding: 6px;
      border-radius: 100px;
      border: 1px solid var(--surface0);
      overflow-x: auto;
      max-width: 100%;
    }

    .filter-bar::-webkit-scrollbar {
      height: 0;
    }

    .filter-btn {
      background: transparent;
      border: none;
      color: var(--subtext);
      padding: 8px 20px;
      border-radius: 100px;
      cursor: pointer;
      font-weight: 700;
      font-size: 0.85rem;
      transition: all 0.3s var(--ease);
      display: flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap;
    }

    .filter-btn:hover {
      color: var(--text);
      background: var(--surface0);
    }

    .filter-btn.active {
      background: var(--blue);
      color: var(--base);
    }

    .count-tag {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--overlay);
    }

    .filter-btn.active .count-tag {
      color: rgba(30, 30, 46, 0.6);
    }

    /* --- GRID & CARDS --- */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 24px;
      margin-bottom: 120px;
    }

    .card {
      background: var(--mantle);
      border: 1px solid var(--surface0);
      border-radius: 24px;
      padding: 32px;
      text-decoration: none;
      position: relative;
      display: flex;
      flex-direction: column;
      height: 280px;
      overflow: hidden;
      transition: all 0.4s var(--ease);
    }

    .card:hover {
      transform: translateY(-12px) scale(1.02);
      border-color: var(--card-color);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }

    .card::before {
      content: '';
      position: absolute;
      inset: 0;
      pointer-events: none;
      border-radius: inherit;
      background: radial-gradient(800px circle at var(--x) var(--y), rgba(255, 255, 255, 0.06), transparent 40%);
      opacity: 0;
      transition: opacity 0.4s;
    }

    .card:hover::before {
      opacity: 1;
    }

    .card-header,
    .card-desc,
    .card-footer {
      z-index: 1;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
    }

    .card-title {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--text);
    }

    .card-badge {
      font-family: var(--font-mono);
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      padding: 4px 10px;
      border-radius: 20px;
      background: var(--surface0);
      color: var(--card-color);
    }

    .card-desc {
      color: var(--subtext);
      font-size: 0.95rem;
      line-height: 1.7;
      flex: 1;
    }

    .card-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 24px;
    }

    .card-path {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--overlay);
    }

    .card-btn {
      color: var(--card-color);
      font-weight: 700;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* --- FOOTER --- */
    footer {
      background: var(--crust);
      padding: 80px 0;
      text-align: center;
      border-top: 1px solid var(--surface0);
    }

    .footer-note {
      font-family: var(--font-mono);
      font-size: 0.7rem;
      color: var(--overlay);
      letter-spacing: 2px;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes cardFade {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 600px) {
      header {
        padding: 60px 0;
      }

      .toolbar {
        margin-bottom: 40px;
      }

      .grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }
    }
  </style>
</head>

<body>

  <div class="container">
    <header>
      <h1>ShadowToys</h1>
      <p class="tagline">A curated collection of high-fidelity, single-file HTML applications forged for curiosity and
        function.</p>
    </header>

    <div class="toolbar">
      <div class="search-pill">
        <input type="text" id="search" placeholder="Locate an artifact..." autocomplete="off">
        <kbd>⌘K</kbd>
      </div>

      <nav class="filter-bar" id="filters"></nav>
    </div>

    <main class="grid" id="app-grid"></main>
  </div>

  <footer>
    <p class="footer-note">Experimental Zone: Features may vanish or transform without notice. Keep Backup</p>
  </footer>

  <script>
    const apps = [
      {name: "Ascend // 30", desc: "A rigid 30-day self-improvement protocol. Features habit tracking, daily journaling, and data persistence in a luxury interface.", path: "toys/Ascend.html", color: "var(--purple)", category: "Productivity"},
      {name: "Zenith // Flow", desc: "A personal Kanban board with drag-and-drop, tagging, and mobile-optimized horizontal scrolling.", path: "toys/Zenith.html", color: "var(--peach)", category: "Productivity"},
      {name: "ShadeNotes", desc: "A sleek, mobile-first Markdown editor built with Vue.js. All your notes, saved locally.", path: "toys/ShadeNotes.html", color: "var(--blue)", category: "Productivity"},
      {name: "PomoShade", desc: "A configurable, aesthetic Pomodoro timer with persistent settings, audio alerts, and notifications.", path: "toys/PomoShade.html", color: "var(--mauve)", category: "Productivity"},
      {name: "ChromaForge", desc: "A comprehensive color engineering suite. Features HSL mixing, palette generation, WCAG contrast checking, and blindness simulation.", path: "toys/ChromaForge.html", color: "var(--lavender)", category: "Tool"},
      {name: "Markdown Blacksmith", desc: "A split-pane Markdown editor with Vim keybindings, PDF export, and drag-and-drop support.", path: "toys/MarkdownBlacksmith.html", color: "var(--lavender)", category: "Tool"},
      {name: "ForgeCalculus", desc: "An engineering-grade REPL calculator. Features unit suffix parsing, numerical calculus, and history logging.", path: "toys/ForgeCalculus.html", color: "var(--peach)", category: "Tool"},
      {name: "CanvasForge", desc: "A fluid, vector-feel digital sketchbook with undo/redo, high-DPI support, and image export.", path: "toys/CanvasForge.html", color: "var(--pink)", category: "Utility"},
      {name: "GourmetCompass Open", desc: "A free, local-first restaurant finder. Uses OpenStreetMap & PIN codes to locate spots.", path: "toys/GourmetCompass.html", color: "var(--teal)", category: "Utility"},
      {name: "TetraFlux", desc: "A high-fidelity block stacking game. Features procedural audio synthesis, particle physics, and mobile-optimized touch controls.", path: "toys/TetraFlux.html", color: "var(--mauve)", category: "Game"},
      {name: "Catppuccin Defense", desc: "A production-grade, infinite-wave Tower Defense engine. Features ECS architecture.", path: "toys/CatppuccinDefense.html", color: "var(--red)", category: "Game"},
      {name: "Eternal Bloom", desc: "A relaxing idle garden simulator. Grow lilies, control the weather, and unlock secrets.", path: "toys/EternalBloom.html", color: "var(--pink)", category: "Game"},
      {name: "SerpentSaga", desc: "A feature-rich Snake game with touch controls, power-ups, campaign modes, and skins.", path: "toys/SerpentSaga.html", color: "var(--green)", category: "Game"},
      {name: "StarSailor", desc: "A zen-like procedural space explorer. Navigate an infinite, deterministic universe with simple physics, discovering star systems along the way.", path: "toys/StarSailor.html", color: "var(--teal)", category: "Game"},
    ];

    const grid = document.getElementById('app-grid');
    const searchInput = document.getElementById('search');
    const filterContainer = document.getElementById('filters');
    let activeFilter = 'all';
    let searchTimeout;

    function initFilters() {
      const categories = ['all', ...new Set(apps.map(app => app.category).sort())];

      filterContainer.innerHTML = '';
      categories.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = `filter-btn ${cat === 'all' ? 'active' : ''}`;
        btn.dataset.filter = cat;

        const label = cat.charAt(0).toUpperCase() + cat.slice(1);
        btn.innerHTML = `${label} <span class="count-tag" id="count-${cat}">0</span>`;

        btn.addEventListener('click', () => {
          filterContainer.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          activeFilter = cat;
          render();
        });

        filterContainer.appendChild(btn);
      });
    }

    function updateCounts(query = "") {
      const counts = {all: 0};
      new Set(apps.map(a => a.category)).forEach(c => counts[c] = 0);

      apps.forEach(app => {
        const matchesSearch = app.name.toLowerCase().includes(query) || app.desc.toLowerCase().includes(query);
        if (matchesSearch) {
          counts.all++;
          counts[app.category]++;
        }
      });

      for (const [key, value] of Object.entries(counts)) {
        const el = document.getElementById(`count-${key}`);
        if (el) el.innerText = value;
      }
    }

    function render() {
      grid.innerHTML = '';
      const query = searchInput.value.toLowerCase();

      const filtered = apps.filter(app => {
        const matchesSearch = app.name.toLowerCase().includes(query) || app.desc.toLowerCase().includes(query);
        const matchesFilter = activeFilter === 'all' || app.category === activeFilter;
        return matchesSearch && matchesFilter;
      });

      updateCounts(query);

      if (filtered.length === 0) {
        grid.innerHTML = `<div style="grid-column: 1/-1; text-align:center; padding: 40px; color: var(--overlay);">No artifacts found.</div>`;
        return;
      }

      filtered.forEach((app, index) => {
        const card = document.createElement('a');
        card.className = 'card';
        card.href = app.path;
        card.target = "_blank";
        card.style.setProperty('--card-color', `var(--${app.color.match(/--(\w+)/)[1]})`);
        card.style.animation = `cardFade 0.5s var(--ease) ${index * 0.05}s both`;

        card.innerHTML = `
                    <div class="card-header">
                        <h2 class="card-title">${app.name}</h2>
                        <span class="card-badge">${app.category}</span>
                    </div>
                    <p class="card-desc">${app.desc}</p>
                    <div class="card-footer">
                        <span class="card-path">./${app.path.split('/').pop()}</span>
                        <div class="card-btn">Explore <span>→</span></div>
                    </div>
                `;
        grid.appendChild(card);
      });

      // Re-apply spotlight effect to new cards
      applySpotlightEffect();
    }

    function applySpotlightEffect() {
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        card.onmousemove = e => {
          const rect = card.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          card.style.setProperty('--x', `${x}px`);
          card.style.setProperty('--y', `${y}px`);
        };
      });
    }

    searchInput.addEventListener('input', () => {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(render, 150);
    });

    window.addEventListener('keydown', (e) => {
      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        searchInput.focus();
      }
    });

    initFilters();
    render();
  </script>
</body>

</html>
